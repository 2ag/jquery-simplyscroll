/*
 * simplyScroll 1.0.4 - a scroll-tastic jQuery plugin
 *
 * http://logicbox.net/jquery/simplyscroll
 * http://logicbox.net/blog/simplyscroll-jquery-plugin
 * http://plugins.jquery.com/project/simplyScroll
 *
 * Copyright (c) 2009 Will Kelly - http://logicbox.net
 *
 * Dual licensed under the MIT and GPL licenses.
 *
 * Last revised: 03/07/2009 21:13
 *
 */
(function(c,h){c.fn.simplyScroll=function(a){return this.each(function(){new c.simplyScroll(this,a)})};var f={customClass:"simply-scroll",frameRate:24,speed:1,orientation:"horizontal",auto:!0,autoMode:"loop",manualMode:"end",direction:"forwards",pauseOnHover:!0,pauseButton:!1,startOnLoad:!1};c.simplyScroll=function(a,b){var i=this;this.o=c.extend({},f,b||{});this.isAuto=!1!==this.o.auto&&null!==this.o.autoMode.match(/^loop|bounce$/);this.isRTL=(this.isHorizontal=null!==this.o.orientation.match(/^horizontal|vertical$/)&&
this.o.orientation==f.orientation)&&"rtl"==c("html").attr("dir");this.isForwards=!this.isAuto||this.isAuto&&null!==this.o.direction.match(/^forwards|backwards$/)&&this.o.direction==f.direction&&!this.isRTL;this.isLoop=this.isAuto&&"loop"==this.o.autoMode||!this.isAuto&&"loop"==this.o.manualMode;this.$list=c(a);var e=this.$list.children();this.$list.addClass("simply-scroll-list").wrap('<div class="simply-scroll-clip"></div>').parent().wrap('<div class="'+this.o.customClass+' simply-scroll-container"></div>');
this.isAuto?this.o.pauseButton&&(this.$list.parent().parent().prepend('<div class="simply-scroll-btn simply-scroll-btn-pause"></div>'),this.o.pauseOnHover=!1):(this.$list.parent().parent().prepend('<div class="simply-scroll-forward"></div>').prepend('<div class="simply-scroll-back"></div>'),this.$btnBack=c(".simply-scroll-back",this.$container),this.$btnForward=c(".simply-scroll-forward",this.$container));if(1<e.length){var g=!1,d=0;this.isHorizontal?(e.each(function(){d+=c(this).outerWidth(!0)}),
g=e.eq(0).outerWidth(!0)*e.length!==d):(e.each(function(){d+=c(this).outerHeight(!0)}),g=e.eq(0).outerHeight(!0)*e.length!==d);g&&(this.$list=this.$list.wrap("<div></div>").parent().addClass("simply-scroll-list"),this.isHorizontal?this.$list.children().css({"float":"left",width:d+"px"}):this.$list.children().css({height:d+"px"}))}this.o.startOnLoad?c(h).load(function(){i.init()}):this.init()};c.simplyScroll.fn=c.simplyScroll.prototype={};c.simplyScroll.fn.extend=c.simplyScroll.extend=c.extend;c.simplyScroll.fn.extend({init:function(){this.$items=
this.$list.children();this.$clip=this.$list.parent();this.$container=this.$clip.parent();this.isHorizontal?(this.itemMax=this.$items.eq(0).outerWidth(!0),this.clipMax=this.$clip.width(),this.dimension="width",this.moveBackClass="simply-scroll-btn-left",this.moveForwardClass="simply-scroll-btn-right",this.scrollPos="Left"):(this.itemMax=this.$items.eq(0).outerHeight(!0),this.clipMax=this.$clip.height(),this.dimension="height",this.moveBackClass="simply-scroll-btn-up",this.moveForwardClass="simply-scroll-btn-down",
this.scrollPos="Top");this.posMin=0;this.posMax=this.$items.length*this.itemMax;var a=Math.ceil(this.clipMax/this.itemMax);if(this.isAuto&&"loop"==this.o.autoMode)this.$list.css(this.dimension,this.posMax+this.itemMax*a+"px"),this.posMax+=this.clipMax-this.o.speed,this.isForwards?(this.$items.slice(0,a).clone(!0).appendTo(this.$list),this.resetPosition=0):(this.$items.slice(-a).clone(!0).prependTo(this.$list),this.resetPosition=this.$items.length*this.itemMax,this.isRTL&&(this.$clip[0].dir="ltr"));
else if(!this.isAuto&&"loop"==this.o.manualMode){this.posMax+=2*this.itemMax;this.$list.css(this.dimension,this.posMax+this.itemMax*a+"px");this.posMax+=this.clipMax-this.o.speed;this.$items.slice(0,a).clone(!0).appendTo(this.$list);this.$items.slice(-a).clone(!0).prependTo(this.$list);this.resetPositionForwards=this.resetPosition=a*this.itemMax;this.resetPositionBackwards=this.$items.length*this.itemMax;var b=this;this.$btnBack.bind("mouseenter touchstart MozTouchDown",function(){b.isForwards=!1;
b.resetPosition=b.resetPositionBackwards});this.$btnForward.bind("mouseenter touchstart MozTouchDown",function(){b.isForwards=!0;b.resetPosition=b.resetPositionForwards})}else this.$list.css(this.dimension,this.posMax+"px"),this.isForwards?this.resetPosition=0:(this.resetPosition=this.$items.length*this.itemMax,this.isRTL&&(this.$clip[0].dir="ltr"));this.resetPos();this.interval=null;this.intervalDelay=Math.floor(1E3/this.o.frameRate);if(this.isAuto||"end"!=this.o.manualMode)for(;0!==this.itemMax%
this.o.speed;)if(this.o.speed--,0===this.o.speed){this.o.speed=1;break}b=this;this.trigger=null;this.funcMoveBack=function(){b.trigger=!b.isAuto&&"end"==b.o.manualMode?this:null;b.isAuto?b.isForwards?b.moveBack():b.moveForward():b.moveBack()};this.funcMoveForward=function(){b.trigger=!b.isAuto&&"end"==b.o.manualMode?this:null;b.isAuto?b.isForwards?b.moveForward():b.moveBack():b.moveForward()};this.funcMoveStop=function(){b.moveStop()};this.funcMoveResume=function(){b.moveResume()};this.isAuto?(this.o.pauseOnHover?
this.$clip.hover(this.funcMoveStop,this.funcMoveResume):this.o.pauseButton&&(this.paused=!1,this.$btnPause=c(".simply-scroll-btn-pause",this.$container).bind("click",function(){!1===b.paused?(b.paused=!0,b.funcMoveStop(),c(this).addClass("active")):(b.paused=!1,b.funcMoveResume(),c(this).removeClass("active"))})),this.funcMoveForward()):(this.$btnBack.addClass("simply-scroll-btn "+this.moveBackClass).bind("mouseenter touchstart MozTouchDown",this.funcMoveBack).bind("mouseleave touchend MozTouchRelease",
this.funcMoveStop),this.$btnForward.addClass("simply-scroll-btn "+this.moveForwardClass).bind("mouseenter touchstart MozTouchDown",this.funcMoveForward).bind("mouseleave touchend MozTouchRelease",this.funcMoveStop),"end"==this.o.manualMode&&(!this.isRTL?this.$btnBack.addClass("disabled"):this.$btnForward.addClass("disabled")))},moveForward:function(){var a=this;this.movement="forward";null!==this.trigger&&this.$btnBack.removeClass("disabled");a.interval=setInterval(function(){a.$clip[0]["scroll"+
a.scrollPos]<a.posMax-a.clipMax?a.$clip[0]["scroll"+a.scrollPos]+=a.o.speed:a.isLoop?a.resetPos():a.moveStop(a.movement)},a.intervalDelay)},moveBack:function(){var a=this;this.movement="back";null!==this.trigger&&this.$btnForward.removeClass("disabled");a.interval=setInterval(function(){a.$clip[0]["scroll"+a.scrollPos]>a.posMin?a.$clip[0]["scroll"+a.scrollPos]-=a.o.speed:a.isLoop?a.resetPos():a.moveStop(a.movement)},a.intervalDelay)},moveStop:function(a){clearInterval(this.interval);null!==this.trigger&&
("undefined"!==typeof a&&c(this.trigger).addClass("disabled"),this.trigger=null);this.isAuto&&"bounce"==this.o.autoMode&&("forward"==a?this.moveBack():this.moveForward())},moveResume:function(){"forward"==this.movement?this.moveForward():this.moveBack()},resetPos:function(){this.$clip[0]["scroll"+this.scrollPos]=this.resetPosition}})})(jQuery,window);